"use strict";var e=require("react"),t=require("prop-types");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=n(e),r=n(t);const l=function(){this.keys=new Map,this.end=!1,this.isEnd=function(){return this.end},this.setEnd=function(){this.end=!0}},a=function(){this.root=new l,this.add=function(e,t=this.root){return 0==e.length?void t.setEnd():(t.keys.has(e[0])||t.keys.set(e[0],new l),this.add(e.substr(1),t.keys.get(e[0])))},this.isWord=function(e){for(var t=this.root;e.length>1;){if(!t.keys.has(e[0]))return!1;t=t.keys.get(e[0]),e=e.substr(1)}return!(!t.keys.has(e[0])||!t.keys.get(e[0]).isEnd)},this.getWord=function(e){for(var t=this.root,n=[],s=new String;e.length>1;){if(!t.keys.has(e[0]))return!1;s+=e[0],t=t.keys.get(e[0]),e=e.substr(1)}if(t.keys.has(e[0])){s+=e[0];t=t.keys.get(e[0]);var r=function(e,t){if(1==e.end&&n.push(t),e.keys.size>0)for(let n of e.keys.keys())r(e.keys.get(n),t.concat(n))};r(t,s)}return n},this.build=function(e){for(var t=0;t<e.length;t++)this.add(e[t])}},i=t=>{const[n,r]=e.useState([]);return s.default.createElement("div",null,s.default.createElement("input",{id:"input",type:"text",placeholder:t.placeholder,className:t.inputClassName,onFocus:()=>{t.children&&r(t.children.map((e=>e.props.children)))},onBlur:()=>{r([])},onChange:e=>(e=>{if(!t.children)return null;{let s=new a;for(var n=0;n<t.children.length;n++)s.add(t.children[n].props.children);let l=s.getWord(e.target.value);r(l)}})(e)}),n?s.default.createElement("div",null,s.default.createElement("div",{className:"options"},s.default.createElement("ul",{className:t.listClassName},n.map(((e,n)=>s.default.createElement("li",{key:n,className:t.optionsClassName,onMouseDown:e=>(e=>{let n=e.target.innerHTML;document.getElementById("input").value=n,t.handleInput(n)})(e)},e)))))):null)};i.defaultProps={placeholder:"please search options",inputClassName:"input",listClassName:"list",optionsClassName:"option",handleInput:()=>null},i.propTypes={children:r.default.arrayOf(r.default.object),handleInput:r.default.func},module.exports=i;
